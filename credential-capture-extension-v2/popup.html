<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Security Audit Pro</title>
    <link rel="stylesheet" href="popup.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>Security Audit Pro</h1>
            <div class="status-bar">
                <span class="status-indicator" id="statusDot"></span>
                <span id="statusText">Loading...</span>
            </div>
            <div class="effectiveness-badge">Targeted Capture</div>
        </header>

        <section class="control-section">
            <div class="control-row">
                <label class="switch">
                    <input type="checkbox" id="enabledToggle">
                    <span class="slider"></span>
                </label>
                <label for="enabledToggle">Extension Enabled</label>
            </div>
        </section>

        <section class="config-section">
            <label>Server URL:</label>
            <input type="text" id="serverUrl" placeholder="http://localhost:8000/v1/audit">

            <h3>Target Domains</h3>
            <textarea id="targetDomains" rows="3" placeholder="example.com&#10;testsite.com&#10;Empty = All"></textarea>
        </section>

        <section class="stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="captureCount">0</div>
                    <div class="stat-label">Total</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="successRate">0%</div>
                    <div class="stat-label">Success</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="queueSize">0</div>
                    <div class="stat-label">Queue</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="lastCapture">N/A</div>
                    <div class="stat-label">Last</div>
                </div>
            </div>

            <div class="circuit-status">
                <div id="circuitStatus">Loading...</div>
                <div id="quotaStatus" style="margin-top: 8px; font-size: 11px;"></div>
            </div>
        </section>

        <section class="actions-section">
            <button class="btn btn-primary" id="saveBtn">Save</button>
            <button class="btn btn-secondary" id="refreshBtn">Refresh</button>
            <button class="btn btn-warning" id="clearQueueBtn">Clear</button>
            <button class="btn btn-danger" id="resetStatsBtn">Reset</button>
        </section>

        <footer>
            <p class="warning">AUTHORIZED TESTING ONLY</p>
            <p class="version">v2.1.0 | Minimal Config</p>
        </footer>
    </div>

    <script src="config-manager.js"></script>
    <script src="popup.js"></script>
</body>

</html>